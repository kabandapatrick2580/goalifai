2025-10-07 17:59:22,584 - app - INFO - All goals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Plot of a land', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 5000000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '5402090c-99d9-475a-820a-bf9398a22055', 'name': 'high', 'percentage': 80.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-06T00:02:12.725802', 'updated_at': '2025-10-06T00:02:12.725805'}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Trip to Kbuye', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 50000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '162a5ab3-a236-4b49-8319-2fc43728f64f', 'name': 'low', 'percentage': 40.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T00:28:01.312258', 'updated_at': '2025-10-07T00:28:01.312263'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:38]
2025-10-07 17:59:22,597 - app - INFO - Allocated 533.3333333333332800 to goal Plot of a land for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-07 17:59:22,603 - app - INFO - Allocated 266.6666666666666400 to goal Trip to Kbuye for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-07 17:59:22,603 - app - INFO - Allocation summary for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'goal_title': 'Plot of a land', 'allocated_amount': 533.3333333333333}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'goal_title': 'Trip to Kbuye', 'allocated_amount': 266.66666666666663}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:78]
2025-10-07 18:00:12,898 - app - INFO - All goals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Plot of a land', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 5000000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '5402090c-99d9-475a-820a-bf9398a22055', 'name': 'high', 'percentage': 80.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-06T00:02:12.725802', 'updated_at': '2025-10-06T00:02:12.725805'}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Trip to Kbuye', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 50000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '162a5ab3-a236-4b49-8319-2fc43728f64f', 'name': 'low', 'percentage': 40.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T00:28:01.312258', 'updated_at': '2025-10-07T00:28:01.312263'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:38]
2025-10-07 18:00:12,911 - app - INFO - Allocated 1332533.3333333332000800 to goal Plot of a land for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-07 18:00:12,917 - app - INFO - Allocated 666266.6666666666000400 to goal Trip to Kbuye for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-07 18:00:12,917 - app - INFO - Allocation summary for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'goal_title': 'Plot of a land', 'allocated_amount': 1332533.3333333333}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'goal_title': 'Trip to Kbuye', 'allocated_amount': 666266.6666666666}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:78]
2025-10-07 18:08:38,351 - app - INFO - All goals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Plot of a land', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 5000000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '5402090c-99d9-475a-820a-bf9398a22055', 'name': 'high', 'percentage': 80.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-06T00:02:12.725802', 'updated_at': '2025-10-06T00:02:12.725805'}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Trip to Kbuye', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 50000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '162a5ab3-a236-4b49-8319-2fc43728f64f', 'name': 'low', 'percentage': 40.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T00:28:01.312258', 'updated_at': '2025-10-07T00:28:01.312263'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:38]
2025-10-07 18:08:38,364 - app - INFO - Allocated 1332533.3333333332000800 to goal Plot of a land for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:71]
2025-10-07 18:08:38,370 - app - INFO - Allocated 666266.6666666666000400 to goal Trip to Kbuye for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:71]
2025-10-07 18:08:38,370 - app - INFO - Allocation summary for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'goal_title': 'Plot of a land', 'allocated_amount': 1332533.3333333333}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'goal_title': 'Trip to Kbuye', 'allocated_amount': 666266.6666666666}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:79]
2025-10-07 18:08:50,650 - app - INFO - All goals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Plot of a land', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 5000000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '5402090c-99d9-475a-820a-bf9398a22055', 'name': 'high', 'percentage': 80.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-06T00:02:12.725802', 'updated_at': '2025-10-06T00:02:12.725805'}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Trip to Kbuye', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 50000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '162a5ab3-a236-4b49-8319-2fc43728f64f', 'name': 'low', 'percentage': 40.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T00:28:01.312258', 'updated_at': '2025-10-07T00:28:01.312263'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:38]
2025-10-07 18:08:50,664 - app - INFO - Allocated 1332533.3333333332000800 to goal Plot of a land for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:71]
2025-10-07 18:08:50,671 - app - INFO - Allocated 666266.6666666666000400 to goal Trip to Kbuye for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:71]
2025-10-07 18:08:50,671 - app - INFO - Allocation summary for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'goal_title': 'Plot of a land', 'allocated_amount': 1332533.3333333333}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'goal_title': 'Trip to Kbuye', 'allocated_amount': 666266.6666666666}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:79]
2025-10-07 18:09:54,798 - app - INFO - All goals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Plot of a land', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 5000000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '5402090c-99d9-475a-820a-bf9398a22055', 'name': 'high', 'percentage': 80.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-06T00:02:12.725802', 'updated_at': '2025-10-06T00:02:12.725805'}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Trip to Kbuye', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 50000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '162a5ab3-a236-4b49-8319-2fc43728f64f', 'name': 'low', 'percentage': 40.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T00:28:01.312258', 'updated_at': '2025-10-07T00:28:01.312263'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:38]
2025-10-07 18:09:54,818 - app - INFO - Allocated 0.00 to goal Plot of a land for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:71]
2025-10-07 18:09:54,824 - app - INFO - Allocated 0.00 to goal Trip to Kbuye for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:71]
2025-10-07 18:09:54,824 - app - INFO - Allocation summary for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'goal_title': 'Plot of a land', 'allocated_amount': 0.0}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'goal_title': 'Trip to Kbuye', 'allocated_amount': 0.0}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:79]
2025-10-07 18:15:09,072 - app - ERROR - Error during allocation recalculation: 400 Bad Request: Failed to decode JSON object: Expecting property name enclosed in double quotes: line 6 column 5 (char 134) - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:91]
2025-10-07 18:15:09,083 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/werkzeug/wrappers/request.py", line 611, in get_json
    rv = self.json_module.loads(data)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/flask/json/provider.py", line 187, in loads
    return json.loads(s, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 6 column 5 (char 134)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 24, in recalculate_allocations
    data = request.get_json()
           ^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/werkzeug/wrappers/request.py", line 620, in get_json
    rv = self.on_json_loading_failed(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/flask/wrappers.py", line 214, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/werkzeug/wrappers/request.py", line 645, in on_json_loading_failed
    raise BadRequest(f"Failed to decode JSON object: {e}")
werkzeug.exceptions.BadRequest: 400 Bad Request: Failed to decode JSON object: Expecting property name enclosed in double quotes: line 6 column 5 (char 134)
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:92]
2025-10-07 18:15:16,275 - app - INFO - All goals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Plot of a land', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 5000000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '5402090c-99d9-475a-820a-bf9398a22055', 'name': 'high', 'percentage': 80.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-06T00:02:12.725802', 'updated_at': '2025-10-06T00:02:12.725805'}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Trip to Kbuye', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 50000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '162a5ab3-a236-4b49-8319-2fc43728f64f', 'name': 'low', 'percentage': 40.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T00:28:01.312258', 'updated_at': '2025-10-07T00:28:01.312263'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:38]
2025-10-07 18:15:16,297 - app - INFO - Allocated 1332533.3333333332000800 to goal Plot of a land for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 18:15:16,303 - app - INFO - Allocated 50000.0 to goal Trip to Kbuye for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 18:15:16,304 - app - INFO - Allocation summary for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'goal_title': 'Plot of a land', 'allocated_amount': 1332533.3333333333}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'goal_title': 'Trip to Kbuye', 'allocated_amount': 50000.0}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:83]
2025-10-07 18:15:36,539 - app - INFO - All goals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Plot of a land', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 5000000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '5402090c-99d9-475a-820a-bf9398a22055', 'name': 'high', 'percentage': 80.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-06T00:02:12.725802', 'updated_at': '2025-10-06T00:02:12.725805'}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Trip to Kbuye', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 50000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '162a5ab3-a236-4b49-8319-2fc43728f64f', 'name': 'low', 'percentage': 40.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T00:28:01.312258', 'updated_at': '2025-10-07T00:28:01.312263'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:38]
2025-10-07 18:15:36,554 - app - INFO - Allocated 5000000.0 to goal Plot of a land for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 18:15:36,558 - app - INFO - Allocated 50000.0 to goal Trip to Kbuye for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 18:15:36,558 - app - INFO - Allocation summary for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'goal_title': 'Plot of a land', 'allocated_amount': 5000000.0}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'goal_title': 'Trip to Kbuye', 'allocated_amount': 50000.0}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:83]
2025-10-07 18:18:20,831 - app - ERROR - Error finalizing allocations for month 2025-10: 'dict' object has no attribute 'is_finalized' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:129]
2025-10-07 18:18:20,833 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 112, in finalize_allocations
    if allocation.is_finalized:
       ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'is_finalized'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:130]
2025-10-07 18:18:31,513 - app - ERROR - Error finalizing allocations for month 2025-10: 'dict' object has no attribute 'is_finalized' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:129]
2025-10-07 18:18:31,515 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 112, in finalize_allocations
    if allocation.is_finalized:
       ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'is_finalized'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:130]
2025-10-07 18:19:01,659 - app - INFO - All goals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Plot of a land', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 5000000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '5402090c-99d9-475a-820a-bf9398a22055', 'name': 'high', 'percentage': 80.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-06T00:02:12.725802', 'updated_at': '2025-10-06T00:02:12.725805'}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Trip to Kbuye', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 50000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '162a5ab3-a236-4b49-8319-2fc43728f64f', 'name': 'low', 'percentage': 40.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T00:28:01.312258', 'updated_at': '2025-10-07T00:28:01.312263'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:38]
2025-10-07 18:19:01,666 - app - INFO - Allocated 1332533.3333333332000800 to goal Plot of a land for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 18:19:01,670 - app - INFO - Allocated 50000.0 to goal Trip to Kbuye for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 18:19:01,670 - app - INFO - Allocation summary for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'goal_title': 'Plot of a land', 'allocated_amount': 1332533.3333333333}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'goal_title': 'Trip to Kbuye', 'allocated_amount': 50000.0}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:83]
2025-10-07 18:19:20,179 - app - ERROR - Error finalizing allocations for month 2025-10: 'dict' object has no attribute 'is_finalized' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:129]
2025-10-07 18:19:20,180 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 112, in finalize_allocations
    if allocation.is_finalized:
       ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'is_finalized'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:130]
2025-10-07 18:20:48,630 - app - ERROR - Error finalizing allocations for month 2025-10: 'dict' object has no attribute 'is_completed' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:129]
2025-10-07 18:20:48,632 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 112, in finalize_allocations
    if allocation.is_completed:
       ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'is_completed'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:130]
2025-10-07 18:23:02,694 - app - ERROR - Error finalizing allocations for month 2025-10: 'is_finalized' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:129]
2025-10-07 18:23:02,695 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 112, in finalize_allocations
    if allocation['is_finalized']:
       ~~~~~~~~~~^^^^^^^^^^^^^^^^
KeyError: 'is_finalized'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:130]
2025-10-07 18:26:28,087 - app - INFO - Finalizing allocations for month 2025-10: [{'allocation_id': 'c43ec39f-4385-4d5c-a747-0a14d25e71bb', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'month': '2025-10', 'allocated_amount': 50000.0, 'created_at': '2025-10-07T00:28:09.538595', 'updated_at': '2025-10-07T18:15:16.299703'}, {'allocation_id': '27e8b38b-bba8-47ef-bc31-3b935b716bf0', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'month': '2025-10', 'allocated_amount': 1332533.33, 'created_at': '2025-10-07T00:11:44.083376', 'updated_at': '2025-10-07T18:19:01.661258'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-07 18:26:28,087 - app - ERROR - Error finalizing allocations for month 2025-10: 'is_finalized' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:130]
2025-10-07 18:26:28,088 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 113, in finalize_allocations
    if allocation['is_finalized']:
       ~~~~~~~~~~^^^^^^^^^^^^^^^^
KeyError: 'is_finalized'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:131]
2025-10-07 18:40:41,715 - app - INFO - Finalizing allocations for month 2025-10: {'7c75f482-dba6-4322-86d6-7bb1914d8eb7': {'goal_name': 'Trip to Kbuye', 'total_allocated': 50000.0, 'allocations': [{'allocation_id': 'c43ec39f-4385-4d5c-a747-0a14d25e71bb', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 50000.0, 'created_at': '2025-10-07T00:28:09.538595', 'updated_at': '2025-10-07T18:15:16.299703', 'is_finalized': None, 'is_deficit': None}]}, 'd033c7a1-95de-4f17-acf7-caf87aa1238d': {'goal_name': 'Plot of a land', 'total_allocated': 1332533.33, 'allocations': [{'allocation_id': '27e8b38b-bba8-47ef-bc31-3b935b716bf0', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 1332533.33, 'created_at': '2025-10-07T00:11:44.083376', 'updated_at': '2025-10-07T18:19:01.661258', 'is_finalized': None, 'is_deficit': None}]}} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-07 18:40:41,726 - app - ERROR - Error finalizing allocations for month 2025-10: 'dict' object has no attribute 'current_amount' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:141]
2025-10-07 18:40:41,729 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 134, in finalize_allocations
    goal.current_amount += total_allocated_for_goal
    ^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'current_amount'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:142]
2025-10-07 18:42:27,668 - app - INFO - Finalizing allocations for month 2025-10: {'7c75f482-dba6-4322-86d6-7bb1914d8eb7': {'goal_name': 'Trip to Kbuye', 'total_allocated': 50000.0, 'allocations': [{'allocation_id': 'c43ec39f-4385-4d5c-a747-0a14d25e71bb', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 50000.0, 'created_at': '2025-10-07T00:28:09.538595', 'updated_at': '2025-10-07T18:15:16.299703', 'is_finalized': None, 'is_deficit': None}]}, 'd033c7a1-95de-4f17-acf7-caf87aa1238d': {'goal_name': 'Plot of a land', 'total_allocated': 1332533.33, 'allocations': [{'allocation_id': '27e8b38b-bba8-47ef-bc31-3b935b716bf0', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 1332533.33, 'created_at': '2025-10-07T00:11:44.083376', 'updated_at': '2025-10-07T18:19:01.661258', 'is_finalized': None, 'is_deficit': None}]}} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-07 18:42:27,680 - app - ERROR - Error finalizing allocations for month 2025-10: Class 'builtins.dict' is not mapped - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:141]
2025-10-07 18:42:27,684 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 3477, in add
    state = attributes.instance_state(instance)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute '_sa_instance_state'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 135, in finalize_allocations
    db.session.add(goal)
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 380, in add
    return self._proxied.add(instance, _warn=_warn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 3479, in add
    raise exc.UnmappedInstanceError(instance) from err
sqlalchemy.orm.exc.UnmappedInstanceError: Class 'builtins.dict' is not mapped
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:142]
2025-10-07 18:46:24,177 - app - INFO - Finalizing allocations for month 2025-10: {'7c75f482-dba6-4322-86d6-7bb1914d8eb7': {'goal_name': 'Trip to Kbuye', 'total_allocated': 50000.0, 'allocations': [{'allocation_id': 'c43ec39f-4385-4d5c-a747-0a14d25e71bb', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 50000.0, 'created_at': '2025-10-07T00:28:09.538595', 'updated_at': '2025-10-07T18:15:16.299703', 'is_finalized': None, 'is_deficit': None}]}, 'd033c7a1-95de-4f17-acf7-caf87aa1238d': {'goal_name': 'Plot of a land', 'total_allocated': 1332533.33, 'allocations': [{'allocation_id': '27e8b38b-bba8-47ef-bc31-3b935b716bf0', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 1332533.33, 'created_at': '2025-10-07T00:11:44.083376', 'updated_at': '2025-10-07T18:19:01.661258', 'is_finalized': None, 'is_deficit': None}]}} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-07 18:46:24,185 - app - ERROR - Error finalizing allocations for month 2025-10: 'Goal' object is not subscriptable - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:141]
2025-10-07 18:46:24,186 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 134, in finalize_allocations
    goal['current_amount'] += total_allocated_for_goal
    ~~~~^^^^^^^^^^^^^^^^^^
TypeError: 'Goal' object is not subscriptable
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:142]
2025-10-07 18:46:53,740 - app - INFO - Finalizing allocations for month 2025-10: {'7c75f482-dba6-4322-86d6-7bb1914d8eb7': {'goal_name': 'Trip to Kbuye', 'total_allocated': 50000.0, 'allocations': [{'allocation_id': 'c43ec39f-4385-4d5c-a747-0a14d25e71bb', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 50000.0, 'created_at': '2025-10-07T00:28:09.538595', 'updated_at': '2025-10-07T18:15:16.299703', 'is_finalized': None, 'is_deficit': None}]}, 'd033c7a1-95de-4f17-acf7-caf87aa1238d': {'goal_name': 'Plot of a land', 'total_allocated': 1332533.33, 'allocations': [{'allocation_id': '27e8b38b-bba8-47ef-bc31-3b935b716bf0', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 1332533.33, 'created_at': '2025-10-07T00:11:44.083376', 'updated_at': '2025-10-07T18:19:01.661258', 'is_finalized': None, 'is_deficit': None}]}} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-07 18:46:53,749 - app - ERROR - Error finalizing allocations for month 2025-10: unsupported operand type(s) for +=: 'decimal.Decimal' and 'float' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:141]
2025-10-07 18:46:53,750 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 134, in finalize_allocations
    goal.current_amount += total_allocated_for_goal
TypeError: unsupported operand type(s) for +=: 'decimal.Decimal' and 'float'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:142]
2025-10-07 18:47:37,513 - app - INFO - Finalizing allocations for month 2025-10: {'7c75f482-dba6-4322-86d6-7bb1914d8eb7': {'goal_name': 'Trip to Kbuye', 'total_allocated': 50000.0, 'allocations': [{'allocation_id': 'c43ec39f-4385-4d5c-a747-0a14d25e71bb', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 50000.0, 'created_at': '2025-10-07T00:28:09.538595', 'updated_at': '2025-10-07T18:15:16.299703', 'is_finalized': None, 'is_deficit': None}]}, 'd033c7a1-95de-4f17-acf7-caf87aa1238d': {'goal_name': 'Plot of a land', 'total_allocated': 1332533.33, 'allocations': [{'allocation_id': '27e8b38b-bba8-47ef-bc31-3b935b716bf0', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 1332533.33, 'created_at': '2025-10-07T00:11:44.083376', 'updated_at': '2025-10-07T18:19:01.661258', 'is_finalized': None, 'is_deficit': None}]}} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-07 18:50:14,110 - app - INFO - All goals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Trip to Kbuye', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 50000.0, 'current_amount': 50000.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '162a5ab3-a236-4b49-8319-2fc43728f64f', 'name': 'low', 'percentage': 40.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T00:28:01.312258', 'updated_at': '2025-10-07T18:47:37.522136'}, {'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Plot of a land', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 5000000.0, 'current_amount': 1332533.33, 'monthly_contribution': 0.0, 'priority': {'priority_id': '5402090c-99d9-475a-820a-bf9398a22055', 'name': 'high', 'percentage': 80.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-06T00:02:12.725802', 'updated_at': '2025-10-07T18:47:37.529979'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:38]
2025-10-07 18:50:14,122 - app - INFO - Allocated 0.0 to goal Trip to Kbuye for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 18:50:14,133 - app - INFO - Allocated 665866.6666666666000800 to goal Plot of a land for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 18:50:14,134 - app - INFO - Allocation summary for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'goal_title': 'Trip to Kbuye', 'allocated_amount': 0.0}, {'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'goal_title': 'Plot of a land', 'allocated_amount': 665866.6666666666}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:83]
2025-10-07 22:33:24,976 - app - INFO - All goals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Plot of a land', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 5000000.0, 'current_amount': 1332533.33, 'monthly_contribution': 0.0, 'priority': {'priority_id': '5402090c-99d9-475a-820a-bf9398a22055', 'name': 'high', 'percentage': 80.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-06T00:02:12.725802', 'updated_at': '2025-10-07T18:47:37.529979'}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Trip to Kbuye', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 50000.0, 'current_amount': 35000.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '162a5ab3-a236-4b49-8319-2fc43728f64f', 'name': 'low', 'percentage': 40.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T00:28:01.312258', 'updated_at': '2025-10-07T18:47:37.522136'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:38]
2025-10-07 22:33:24,998 - app - INFO - Allocated 586666.6666666666080000 to goal Plot of a land for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 22:33:25,005 - app - INFO - Allocated 15000.0 to goal Trip to Kbuye for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 22:33:25,005 - app - INFO - Allocation summary for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': 'd033c7a1-95de-4f17-acf7-caf87aa1238d', 'goal_title': 'Plot of a land', 'allocated_amount': 586666.6666666666}, {'goal_id': '7c75f482-dba6-4322-86d6-7bb1914d8eb7', 'goal_title': 'Trip to Kbuye', 'allocated_amount': 15000.0}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:83]
2025-10-07 22:33:46,240 - app - INFO - Finalizing allocations for month 2025-10: {'d033c7a1-95de-4f17-acf7-caf87aa1238d': {'goal_name': 'Plot of a land', 'total_allocated': 586666.67, 'allocations': [{'allocation_id': '27e8b38b-bba8-47ef-bc31-3b935b716bf0', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 586666.67, 'created_at': '2025-10-07T00:11:44.083376', 'updated_at': '2025-10-07T22:33:24.983542', 'is_finalized': True, 'is_deficit': None}]}, '7c75f482-dba6-4322-86d6-7bb1914d8eb7': {'goal_name': 'Trip to Kbuye', 'total_allocated': 15000.0, 'allocations': [{'allocation_id': 'c43ec39f-4385-4d5c-a747-0a14d25e71bb', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 15000.0, 'created_at': '2025-10-07T00:28:09.538595', 'updated_at': '2025-10-07T22:33:25.001389', 'is_finalized': True, 'is_deficit': None}]}} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-07 22:33:46,245 - app - INFO - Allocation 27e8b38b-bba8-47ef-bc31-3b935b716bf0 already finalized. Skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:125]
2025-10-07 22:33:46,250 - app - INFO - Allocation c43ec39f-4385-4d5c-a747-0a14d25e71bb already finalized. Skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:125]
2025-10-07 22:34:30,280 - app - INFO - Finalizing allocations for month 2025-10: {'d033c7a1-95de-4f17-acf7-caf87aa1238d': {'goal_name': 'Plot of a land', 'total_allocated': 586666.67, 'allocations': [{'allocation_id': '27e8b38b-bba8-47ef-bc31-3b935b716bf0', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 586666.67, 'created_at': '2025-10-07T00:11:44.083376', 'updated_at': '2025-10-07T22:33:24.983542', 'is_finalized': True, 'is_deficit': None}]}, '7c75f482-dba6-4322-86d6-7bb1914d8eb7': {'goal_name': 'Trip to Kbuye', 'total_allocated': 15000.0, 'allocations': [{'allocation_id': 'c43ec39f-4385-4d5c-a747-0a14d25e71bb', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 15000.0, 'created_at': '2025-10-07T00:28:09.538595', 'updated_at': '2025-10-07T22:33:25.001389', 'is_finalized': True, 'is_deficit': None}]}} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-07 22:34:30,282 - app - INFO - Allocation 27e8b38b-bba8-47ef-bc31-3b935b716bf0 already finalized. Skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:125]
2025-10-07 22:34:30,287 - app - INFO - Allocation c43ec39f-4385-4d5c-a747-0a14d25e71bb already finalized. Skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:125]
2025-10-07 22:36:48,850 - app - INFO - Finalizing allocations for month 2025-11: {'d033c7a1-95de-4f17-acf7-caf87aa1238d': {'goal_name': 'Plot of a land', 'total_allocated': 586666.67, 'allocations': [{'allocation_id': '27e8b38b-bba8-47ef-bc31-3b935b716bf0', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-11', 'allocated_amount': 586666.67, 'created_at': '2025-10-07T00:11:44.083376', 'updated_at': '2025-10-07T22:33:24.983542', 'is_finalized': True, 'is_deficit': None}]}, '7c75f482-dba6-4322-86d6-7bb1914d8eb7': {'goal_name': 'Trip to Kbuye', 'total_allocated': 15000.0, 'allocations': [{'allocation_id': 'c43ec39f-4385-4d5c-a747-0a14d25e71bb', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-11', 'allocated_amount': 15000.0, 'created_at': '2025-10-07T00:28:09.538595', 'updated_at': '2025-10-07T22:33:25.001389', 'is_finalized': True, 'is_deficit': None}]}} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-07 22:36:48,853 - app - INFO - Allocation 27e8b38b-bba8-47ef-bc31-3b935b716bf0 already finalized. Skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:125]
2025-10-07 22:36:48,858 - app - INFO - Allocation c43ec39f-4385-4d5c-a747-0a14d25e71bb already finalized. Skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:125]
2025-10-07 22:39:06,374 - app - INFO - Goal Trip to Kbuye created successfully - [in /home/patrick/goalifai/app/api/v1/client/goals.py:49]
2025-10-07 22:42:35,610 - app - INFO - Goal Plot of a land created successfully - [in /home/patrick/goalifai/app/api/v1/client/goals.py:49]
2025-10-07 22:43:28,569 - app - INFO - All goals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': '78704e65-4079-4496-a482-871ce01d38ba', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Trip to Kbuye', 'description': None, 'category_id': UUID('3a6b20c4-9d0c-4417-a5eb-04c395cb290d'), 'target_amount': 50000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '162a5ab3-a236-4b49-8319-2fc43728f64f', 'name': 'low', 'percentage': 40.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T22:39:06.364477', 'updated_at': '2025-10-07T22:39:06.364483'}, {'goal_id': 'e81c3366-a6ba-43b1-9be3-9042fe420576', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'title': 'Plot of a land', 'description': None, 'category_id': UUID('7e96e1da-d61d-4fe4-99fe-503c301700f3'), 'target_amount': 5000000.0, 'current_amount': 0.0, 'monthly_contribution': 0.0, 'priority': {'priority_id': '7b6b377f-a175-4bdd-87a1-cbf6a1242750', 'name': 'medium', 'percentage': 60.0}, 'due_date': None, 'expected_completion_date': None, 'funding_gap': 0, 'status': 'in progress', 'is_completed': False, 'is_active': True, 'created_at': '2025-10-07T22:42:35.596876', 'updated_at': '2025-10-07T22:42:35.596880'}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:38]
2025-10-07 22:43:28,586 - app - INFO - Allocated 50000.0 to goal Trip to Kbuye for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 22:43:28,591 - app - INFO - Allocated 119280.0 to goal Plot of a land for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:75]
2025-10-07 22:43:28,591 - app - INFO - Allocation summary for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: [{'goal_id': '78704e65-4079-4496-a482-871ce01d38ba', 'goal_title': 'Trip to Kbuye', 'allocated_amount': 50000.0}, {'goal_id': 'e81c3366-a6ba-43b1-9be3-9042fe420576', 'goal_title': 'Plot of a land', 'allocated_amount': 119280.0}] - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:83]
2025-10-07 22:43:52,986 - app - INFO - Finalizing allocations for month 2025-10: {'78704e65-4079-4496-a482-871ce01d38ba': {'goal_name': 'Trip to Kbuye', 'total_allocated': 50000.0, 'allocations': [{'allocation_id': '10bb5e9a-3887-4aa6-b98b-838698063bae', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 50000.0, 'created_at': '2025-10-07T22:43:28.572595', 'updated_at': '2025-10-07T22:43:28.572599', 'is_finalized': False, 'is_deficit': False}]}, 'e81c3366-a6ba-43b1-9be3-9042fe420576': {'goal_name': 'Plot of a land', 'total_allocated': 119280.0, 'allocations': [{'allocation_id': '62af914a-dd28-4515-855b-63bf6c4f2a23', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 119280.0, 'created_at': '2025-10-07T22:43:28.587913', 'updated_at': '2025-10-07T22:43:28.587916', 'is_finalized': False, 'is_deficit': False}]}} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-08 08:12:15,271 - app - INFO - Finalizing allocations for month 2025-10: {'78704e65-4079-4496-a482-871ce01d38ba': {'goal_name': 'Trip to Kbuye', 'total_allocated': 50000.0, 'allocations': [{'allocation_id': '10bb5e9a-3887-4aa6-b98b-838698063bae', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 50000.0, 'created_at': '2025-10-07T22:43:28.572595', 'updated_at': '2025-10-07T22:43:52.992638', 'is_finalized': True, 'is_deficit': False}]}, 'e81c3366-a6ba-43b1-9be3-9042fe420576': {'goal_name': 'Plot of a land', 'total_allocated': 119280.0, 'allocations': [{'allocation_id': '62af914a-dd28-4515-855b-63bf6c4f2a23', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 119280.0, 'created_at': '2025-10-07T22:43:28.587913', 'updated_at': '2025-10-07T22:43:52.998095', 'is_finalized': True, 'is_deficit': False}]}} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-08 08:12:15,276 - app - INFO - Allocation 10bb5e9a-3887-4aa6-b98b-838698063bae already finalized. Skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:125]
2025-10-08 08:12:15,283 - app - INFO - Allocation 62af914a-dd28-4515-855b-63bf6c4f2a23 already finalized. Skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:125]
2025-10-08 11:01:52,154 - app - INFO - Request data: {'file_path': '/home/patrick/goalifai/app/files/default_categories.json'} - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:116]
2025-10-08 11:11:43,403 - app - INFO - Category Salary already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,405 - app - INFO - Category Freelance Income already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,407 - app - INFO - Category Investment Income already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,408 - app - INFO - Category Rental Income already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,410 - app - INFO - Category Bank Interest already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,412 - app - INFO - Category Groceries already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,413 - app - INFO - Category Utilities already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,415 - app - INFO - Category Rent/Mortgage already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,416 - app - INFO - Category Transportation already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,417 - app - INFO - Category Insurance already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,419 - app - INFO - Category Entertainment already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,421 - app - INFO - Category Medical already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,423 - app - INFO - Category Debt Repayment already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,425 - app - INFO - Category Savings already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,426 - app - INFO - Category Taxes already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,428 - app - INFO - Category Education already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,429 - app - INFO - Category Gifts & Donations already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:11:43,431 - app - INFO - Category Miscellaneous already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,668 - app - INFO - Category Salary already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,670 - app - INFO - Category Freelance Income already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,672 - app - INFO - Category Investment Income already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,674 - app - INFO - Category Rental Income already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,676 - app - INFO - Category Bank Interest already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,678 - app - INFO - Category Groceries already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,680 - app - INFO - Category Utilities already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,681 - app - INFO - Category Rent/Mortgage already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,682 - app - INFO - Category Transportation already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,684 - app - INFO - Category Insurance already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,685 - app - INFO - Category Entertainment already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,686 - app - INFO - Category Medical already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,688 - app - INFO - Category Debt Repayment already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,690 - app - INFO - Category Savings already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,692 - app - INFO - Category Taxes already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,693 - app - INFO - Category Education already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,695 - app - INFO - Category Gifts & Donations already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,696 - app - INFO - Category Miscellaneous already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,697 - app - INFO - Category Surplus already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:13:32,699 - app - INFO - Category Deficit already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,049 - app - INFO - Category Salary already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,052 - app - INFO - Category Freelance Income already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,055 - app - INFO - Category Investment Income already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,057 - app - INFO - Category Rental Income already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,058 - app - INFO - Category Bank Interest already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,060 - app - INFO - Category Groceries already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,062 - app - INFO - Category Utilities already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,063 - app - INFO - Category Rent/Mortgage already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,064 - app - INFO - Category Transportation already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,066 - app - INFO - Category Insurance already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,067 - app - INFO - Category Entertainment already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,069 - app - INFO - Category Medical already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,072 - app - INFO - Category Debt Repayment already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,074 - app - INFO - Category Savings already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,075 - app - INFO - Category Taxes already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,077 - app - INFO - Category Education already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,079 - app - INFO - Category Gifts & Donations already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,080 - app - INFO - Category Miscellaneous already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,081 - app - INFO - Category Surplus already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 11:14:29,083 - app - INFO - Category Deficit already exists. Skipping. - [in /home/patrick/goalifai/app/api/v1/hybrid/categories.py:245]
2025-10-08 18:32:27,239 - app - INFO - Finalizing allocations for month 2025-10: {'78704e65-4079-4496-a482-871ce01d38ba': {'goal_name': 'Trip to Kbuye', 'total_allocated': 50000.0, 'allocations': [{'allocation_id': '10bb5e9a-3887-4aa6-b98b-838698063bae', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 50000.0, 'created_at': '2025-10-07T22:43:28.572595', 'updated_at': '2025-10-07T22:43:52.992638', 'is_finalized': True, 'is_deficit': False}]}, 'e81c3366-a6ba-43b1-9be3-9042fe420576': {'goal_name': 'Plot of a land', 'total_allocated': 119280.0, 'allocations': [{'allocation_id': '62af914a-dd28-4515-855b-63bf6c4f2a23', 'user_id': 'f280eb9e-063d-40ae-83f2-8c47aeb9ea3f', 'month': '2025-10', 'allocated_amount': 119280.0, 'created_at': '2025-10-07T22:43:28.587913', 'updated_at': '2025-10-07T22:43:52.998095', 'is_finalized': True, 'is_deficit': False}]}} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:110]
2025-10-08 18:32:27,244 - app - INFO - Allocation 10bb5e9a-3887-4aa6-b98b-838698063bae already finalized. Skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:125]
2025-10-08 18:32:27,248 - app - INFO - Allocation 62af914a-dd28-4515-855b-63bf6c4f2a23 already finalized. Skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:125]
2025-10-08 18:43:45,071 - app - ERROR - An error occurred: 'dict' object has no attribute 'to_dict' - [in /home/patrick/goalifai/app/api/v1/client/goals.py:157]
2025-10-08 18:43:45,073 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goals.py", line 147, in bulk_create_goals
    created_goals.append(goal.to_dict())
                         ^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'to_dict'
 - [in /home/patrick/goalifai/app/api/v1/client/goals.py:158]
2025-10-08 18:45:52,545 - app - INFO - 2 goals created successfully - [in /home/patrick/goalifai/app/api/v1/client/goals.py:149]
2025-10-11 14:21:58,253 - app - ERROR - Error creating financial profile:(psycopg2.errors.ForeignKeyViolation) insert or update on table "user_financial_profiles" violates foreign key constraint "user_financial_profiles_user_id_fkey"
DETAIL:  Key (user_id)=(ff36b7d1-76c0-410c-abbc-71aa0bc2f357) is not present in table "users".

[SQL: INSERT INTO user_financial_profiles (id, user_id, deficit_balance, savings_balance, base_allocation_rate, expected_monthly_income, expected_monthly_expenses, actual_monthly_income, actual_monthly_expenses, created_at, updated_at) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(deficit_balance)s, %(savings_balance)s, %(base_allocation_rate)s, %(expected_monthly_income)s, %(expected_monthly_expenses)s, %(actual_monthly_income)s, %(actual_monthly_expenses)s, %(created_at)s, %(updated_at)s)]
[parameters: {'id': UUID('886f292c-ed7c-4968-a1a4-3ff40bd4d28a'), 'user_id': UUID('ff36b7d1-76c0-410c-abbc-71aa0bc2f357'), 'deficit_balance': Decimal('0.00'), 'savings_balance': Decimal('0.00'), 'base_allocation_rate': Decimal('0.299999999999999988897769753748434595763683319091796875'), 'expected_monthly_income': 500000, 'expected_monthly_expenses': 300000, 'actual_monthly_income': None, 'actual_monthly_expenses': None, 'created_at': datetime.datetime(2025, 10, 11, 12, 21, 58, 251365, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 10, 11, 12, 21, 58, 251368, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) - [in /home/patrick/goalifai/app/models/client/users_model.py:262]
2025-10-11 14:21:58,259 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.ForeignKeyViolation: insert or update on table "user_financial_profiles" violates foreign key constraint "user_financial_profiles_user_id_fkey"
DETAIL:  Key (user_id)=(ff36b7d1-76c0-410c-abbc-71aa0bc2f357) is not present in table "users".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/models/client/users_model.py", line 258, in create_financial_profile
    db.session.commit()
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "user_financial_profiles" violates foreign key constraint "user_financial_profiles_user_id_fkey"
DETAIL:  Key (user_id)=(ff36b7d1-76c0-410c-abbc-71aa0bc2f357) is not present in table "users".

[SQL: INSERT INTO user_financial_profiles (id, user_id, deficit_balance, savings_balance, base_allocation_rate, expected_monthly_income, expected_monthly_expenses, actual_monthly_income, actual_monthly_expenses, created_at, updated_at) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(deficit_balance)s, %(savings_balance)s, %(base_allocation_rate)s, %(expected_monthly_income)s, %(expected_monthly_expenses)s, %(actual_monthly_income)s, %(actual_monthly_expenses)s, %(created_at)s, %(updated_at)s)]
[parameters: {'id': UUID('886f292c-ed7c-4968-a1a4-3ff40bd4d28a'), 'user_id': UUID('ff36b7d1-76c0-410c-abbc-71aa0bc2f357'), 'deficit_balance': Decimal('0.00'), 'savings_balance': Decimal('0.00'), 'base_allocation_rate': Decimal('0.299999999999999988897769753748434595763683319091796875'), 'expected_monthly_income': 500000, 'expected_monthly_expenses': 300000, 'actual_monthly_income': None, 'actual_monthly_expenses': None, 'created_at': datetime.datetime(2025, 10, 11, 12, 21, 58, 251365, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 10, 11, 12, 21, 58, 251368, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
 - [in /home/patrick/goalifai/app/models/client/users_model.py:263]
2025-10-11 14:31:03,754 - app - ERROR - Error recalculating allocations: Mapped instance expected for relationship comparison to object.   Classes, queries and other SQL elements are not accepted in this context; for comparison with a subquery, use Categories.type.has(**criteria). - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:226]
2025-10-11 14:31:03,765 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 34, in recalculate_allocations
    totals = FinancialRecord.get_monthly_summary_totals(user_id=user_id, year=year, month=month)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/app/models/client/financial.py", line 431, in get_monthly_summary_totals
    FinancialRecord.category.has(type='Income'),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 979, in has
    return self.operate(PropComparator.has_op, criterion, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 453, in operate
    return op(self.comparator, *other, **kwargs)  # type: ignore[no-any-return]  # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 859, in _has_op
    return left.has(other, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 963, in has
    return self._criterion_exists(criterion, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 822, in _criterion_exists
    crit = getattr(self.property.mapper.class_, k) == kwargs[k]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/sql/operators.py", line 584, in __eq__
    return self.operate(eq, other)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 453, in operate
    return op(self.comparator, *other, **kwargs)  # type: ignore[no-any-return]  # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 765, in __eq__
    self.property._optimized_compare(
  File "/home/patrick/goalifai/local-env/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1198, in _optimized_compare
    raise sa_exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Mapped instance expected for relationship comparison to object.   Classes, queries and other SQL elements are not accepted in this context; for comparison with a subquery, use Categories.type.has(**criteria).
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:227]
2025-10-11 14:38:51,289 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('0'), 'total_expense': Decimal('600000.00'), 'net_income': Decimal('-600000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-11 14:38:51,289 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=0.00 expense=600000.00 net=-600000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-11 14:38:51,289 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=0.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-11 14:38:51,295 - app - ERROR - Error recalculating allocations: 'category_id' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:226]
2025-10-11 14:38:51,296 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 108, in recalculate_allocations
    category_id=def_cat["category_id"],
                ~~~~~~~^^^^^^^^^^^^^^^
KeyError: 'category_id'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:227]
2025-10-11 14:44:02,569 - app - INFO - Salary Income recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-11 14:44:26,130 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('0'), 'total_expense': Decimal('600000.00'), 'net_income': Decimal('-600000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-11 14:44:26,130 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=0.00 expense=600000.00 net=-600000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-11 14:44:26,130 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=0.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-11 14:44:26,132 - app - ERROR - Error recalculating allocations: 'category_id' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:226]
2025-10-11 14:44:26,133 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 108, in recalculate_allocations
    category_id=def_cat["category_id"],
                ~~~~~~~^^^^^^^^^^^^^^^
KeyError: 'category_id'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:227]
2025-10-11 14:46:25,103 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('0'), 'total_expense': Decimal('600000.00'), 'net_income': Decimal('-600000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-11 14:46:25,103 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=0.00 expense=600000.00 net=-600000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-11 14:46:25,104 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=0.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-11 14:46:25,110 - app - ERROR - Error recalculating allocations: 'category_id' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:226]
2025-10-11 14:46:25,111 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 108, in recalculate_allocations
    category_id=def_cat["category_id"],
                ~~~~~~~^^^^^^^^^^^^^^^
KeyError: 'category_id'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:227]
2025-10-11 14:47:04,535 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('0'), 'total_expense': Decimal('600000.00'), 'net_income': Decimal('-600000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-11 14:47:04,536 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=0.00 expense=600000.00 net=-600000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-11 14:47:04,536 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=0.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-11 14:47:04,540 - app - ERROR - Error recalculating allocations: 'category_id' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:226]
2025-10-11 14:47:04,540 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 108, in recalculate_allocations
    category_id=def_cat["category_id"],
                ~~~~~~~^^^^^^^^^^^^^^^
KeyError: 'category_id'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:227]
2025-10-11 14:47:35,746 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('0'), 'total_expense': Decimal('600000.00'), 'net_income': Decimal('-600000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-11 14:47:35,746 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=0.00 expense=600000.00 net=-600000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-11 14:47:35,746 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=0.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-11 14:53:20,578 - app - ERROR - Error fetching allocations for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: object of type 'NoneType' has no len() - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:249]
2025-10-11 14:53:20,578 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 238, in get_user_allocations
    current_app.logger.info(f"Found {len(allocations)} allocations for user {user_id}")
                                     ^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:250]
2025-10-11 14:54:04,347 - app - INFO - Found 0 allocations for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f - [in /home/patrick/goalifai/app/models/client/goal.py:689]
2025-10-11 14:54:04,347 - app - ERROR - Error fetching allocations for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: object of type 'NoneType' has no len() - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:249]
2025-10-11 14:54:04,348 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 238, in get_user_allocations
    current_app.logger.info(f"Found {len(allocations)} allocations for user {user_id}")
                                     ^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:250]
2025-10-11 14:55:21,266 - app - ERROR - Error fetching allocations for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: object of type 'NoneType' has no len() - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:249]
2025-10-11 14:55:21,267 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 238, in get_user_allocations
    current_app.logger.info(f"Found {len(allocations)} allocations for user {user_id}")
                                     ^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:250]
2025-10-11 14:55:37,081 - app - ERROR - Error fetching allocations for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: object of type 'NoneType' has no len() - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:249]
2025-10-11 14:55:37,082 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 238, in get_user_allocations
    current_app.logger.info(f"Found {len(allocations)} allocations for user {user_id}")
                                     ^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:250]
2025-10-11 15:03:10,143 - app - INFO - All allocations: [] - [in /home/patrick/goalifai/app/models/client/goal.py:720]
2025-10-12 07:31:15,360 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('0'), 'total_expense': Decimal('1200000.00'), 'net_income': Decimal('-1200000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-12 07:31:15,361 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=0.00 expense=1200000.00 net=-1200000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-12 07:31:15,361 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=0.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-12 07:38:34,550 - app - INFO - Freelance Income Income recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-12 07:40:07,508 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('0'), 'total_expense': Decimal('1200000.00'), 'net_income': Decimal('-1200000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-12 07:40:07,509 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=0.00 expense=1200000.00 net=-1200000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-12 07:40:07,509 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=0.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-12 07:46:35,998 - app - INFO - Freelance Income Income recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-12 07:47:22,484 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1200000.00'), 'net_income': Decimal('-400000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-12 07:47:22,484 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1200000.00 net=-400000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-12 07:47:22,484 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=800000.00 base_allocation=640000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-12 08:16:40,988 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-12 08:16:40,988 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-12 08:16:40,988 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=800000.00 base_allocation=640000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-12 08:16:50,033 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-12 08:16:50,033 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-12 08:16:50,033 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=800000.00 base_allocation=640000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-12 08:16:51,748 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-12 08:16:51,749 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-12 08:16:51,749 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=800000.00 base_allocation=640000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-12 08:17:01,625 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-12 08:17:01,625 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-12 08:17:01,626 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=800000.00 base_allocation=640000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-12 08:34:06,299 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-12 08:34:06,299 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-12 08:34:06,299 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=800000.00 base_allocation=640000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-12 08:34:09,415 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-12 08:34:09,415 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-12 08:34:09,415 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=800000.00 base_allocation=640000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-12 09:38:15,025 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-12 09:38:15,025 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-12 09:38:15,025 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1000000.00 base_allocation=640000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-12 09:40:08,021 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-12 09:40:08,021 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-12 09:40:08,022 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1000000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-13 09:03:31,025 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-13 09:03:31,025 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-13 09:03:31,025 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1000000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-13 09:13:08,732 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-13 09:13:08,732 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-13 09:13:08,732 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1000000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-13 09:15:00,074 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-13 09:15:00,074 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-13 09:15:00,074 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1000000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-13 17:30:04,335 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1800000.00'), 'net_income': Decimal('-1000000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-13 17:30:04,343 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1800000.00 net=-1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-13 17:30:04,344 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1000000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-13 18:16:46,415 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f for 2025-10: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('600000.00'), 'net_income': Decimal('200000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:35]
2025-10-13 18:16:46,415 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=600000.00 net=200000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:51]
2025-10-13 18:16:46,415 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=200000.00 base_allocation=160000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:64]
2025-10-13 21:58:08,620 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-13 21:58:54,271 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1600000.00'), 'net_income': Decimal('-800000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 21:58:54,271 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1600000.00 net=-800000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 21:58:54,272 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-800000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:84]
2025-10-13 22:08:52,392 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1600000.00'), 'net_income': Decimal('-800000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:08:52,392 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1600000.00 net=-800000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:08:52,393 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-800000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:84]
2025-10-13 22:13:59,698 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1600000.00'), 'net_income': Decimal('-800000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:13:59,698 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1600000.00 net=-800000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:13:59,699 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-800000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:84]
2025-10-13 22:18:49,278 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1600000.00'), 'net_income': Decimal('-800000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:18:49,279 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1600000.00 net=-800000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:18:49,313 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-800000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:103]
2025-10-13 22:20:02,382 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('1600000.00'), 'net_income': Decimal('-800000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:20:02,383 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=1600000.00 net=-800000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:20:02,383 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:65]
2025-10-13 22:21:18,952 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-13 22:21:45,800 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2100000.00'), 'net_income': Decimal('-1300000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:21:45,800 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2100000.00 net=-1300000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:21:45,813 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1300000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:101]
2025-10-13 22:22:46,500 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2100000.00'), 'net_income': Decimal('-1300000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:22:46,501 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2100000.00 net=-1300000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:22:46,508 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1300000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:101]
2025-10-13 22:22:52,007 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2100000.00'), 'net_income': Decimal('-1300000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:22:52,008 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2100000.00 net=-1300000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:22:52,015 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1300000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:101]
2025-10-13 22:22:58,008 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2100000.00'), 'net_income': Decimal('-1300000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:22:58,008 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2100000.00 net=-1300000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:22:58,017 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1300000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:101]
2025-10-13 22:23:26,077 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2100000.00'), 'net_income': Decimal('-1300000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:23:26,077 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2100000.00 net=-1300000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:23:26,086 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1300000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:101]
2025-10-13 22:24:27,042 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2100000.00'), 'net_income': Decimal('-1300000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:24:27,043 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2100000.00 net=-1300000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:24:27,043 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1300000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:91]
2025-10-13 22:24:31,897 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2100000.00'), 'net_income': Decimal('-1300000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:24:31,898 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2100000.00 net=-1300000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:24:31,898 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:65]
2025-10-13 22:25:37,521 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2100000.00'), 'net_income': Decimal('-1300000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:25:37,521 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2100000.00 net=-1300000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:25:37,522 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:65]
2025-10-13 22:26:19,345 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-13 22:26:31,684 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2600000.00'), 'net_income': Decimal('-1800000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:26:31,685 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2600000.00 net=-1800000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:26:31,686 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1800000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:91]
2025-10-13 22:31:09,847 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2600000.00'), 'net_income': Decimal('-1800000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:31:09,848 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2600000.00 net=-1800000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:31:09,880 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1800000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-13 22:41:11,194 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2600000.00'), 'net_income': Decimal('-1800000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:41:11,195 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2600000.00 net=-1800000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:41:11,195 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:65]
2025-10-13 22:43:36,901 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-13 22:43:48,992 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2700000.00'), 'net_income': Decimal('-1900000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 22:43:48,993 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2700000.00 net=-1900000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 22:43:49,021 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1900000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-13 23:07:46,057 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2700000.00'), 'net_income': Decimal('-1900000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 23:07:46,057 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2700000.00 net=-1900000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 23:07:46,070 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:76]
2025-10-13 23:08:07,276 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-13 23:08:13,392 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2750000.00'), 'net_income': Decimal('-1950000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-13 23:08:13,392 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2750000.00 net=-1950000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-13 23:08:13,404 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1950000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:95]
2025-10-15 21:06:04,433 - app - ERROR - Financial profile already exists for this user - [in /home/patrick/goalifai/app/api/v1/client/fin_profile.py:26]
2025-10-15 21:10:22,739 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2750000.00'), 'net_income': Decimal('-1950000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 21:10:22,739 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2750000.00 net=-1950000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 21:10:22,745 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:76]
2025-10-15 21:17:19,303 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2750000.00'), 'net_income': Decimal('-1950000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 21:17:19,303 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2750000.00 net=-1950000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 21:17:19,307 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:76]
2025-10-15 22:38:48,771 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2750000.00'), 'net_income': Decimal('-1950000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 22:38:48,771 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2750000.00 net=-1950000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 22:38:48,785 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:79]
2025-10-15 22:39:31,759 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-15 22:39:44,958 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2755000.00'), 'net_income': Decimal('-1955000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 22:39:44,959 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2755000.00 net=-1955000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 22:39:44,973 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1955000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:98]
2025-10-15 22:45:19,178 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-15 22:45:25,156 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2762000.00'), 'net_income': Decimal('-1962000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 22:45:25,156 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2762000.00 net=-1962000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 22:45:25,172 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1962000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-15 22:48:06,532 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2762000.00'), 'net_income': Decimal('-1962000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 22:48:06,532 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2762000.00 net=-1962000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 22:48:06,533 - app - INFO - Updated balance for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: -1962000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-15 22:48:06,546 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:87]
2025-10-15 22:48:22,646 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2762000.00'), 'net_income': Decimal('-1962000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 22:48:22,646 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2762000.00 net=-1962000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 22:48:22,646 - app - INFO - Updated balance for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: -1962000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-15 22:48:22,658 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:87]
2025-10-15 22:48:28,152 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2762000.00'), 'net_income': Decimal('-1962000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 22:48:28,152 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2762000.00 net=-1962000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 22:48:28,152 - app - INFO - Updated balance for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: -1962000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-15 22:48:28,163 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:87]
2025-10-15 22:49:39,269 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-15 22:49:44,411 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2774000.00'), 'net_income': Decimal('-1974000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 22:49:44,411 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2774000.00 net=-1974000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 22:49:44,411 - app - INFO - Updated balance for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: -1974000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-15 22:49:44,425 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1974000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:106]
2025-10-15 22:49:58,336 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2774000.00'), 'net_income': Decimal('-1974000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 22:49:58,337 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2774000.00 net=-1974000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 22:49:58,337 - app - INFO - Updated balance for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: -1974000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-15 22:49:58,348 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:87]
2025-10-15 22:50:01,668 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2774000.00'), 'net_income': Decimal('-1974000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 22:50:01,669 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2774000.00 net=-1974000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 22:50:01,669 - app - INFO - Updated balance for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: -1974000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-15 22:50:01,680 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:87]
2025-10-15 22:51:27,184 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-15 22:51:36,169 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2784000.00'), 'net_income': Decimal('-1984000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-15 22:51:36,169 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2784000.00 net=-1984000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-15 22:51:36,169 - app - INFO - Updated balance for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: -1984000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-15 22:51:36,182 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1984000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:106]
2025-10-16 07:44:14,983 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2784000.00'), 'net_income': Decimal('-1984000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-16 07:44:14,984 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2784000.00 net=-1984000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-16 07:44:14,984 - app - INFO - Updated balance for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: -1984000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-16 07:44:14,991 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:87]
2025-10-16 07:44:22,593 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2784000.00'), 'net_income': Decimal('-1984000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-16 07:44:22,593 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2784000.00 net=-1984000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-16 07:44:22,593 - app - INFO - Updated balance for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: -1984000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-16 07:44:22,597 - app - INFO - [alloc] No change in income/expense since last recalculation — skipping balance updates. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:87]
2025-10-16 07:44:50,040 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-16 07:50:05,749 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2786000.00'), 'net_income': Decimal('-1986000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:42]
2025-10-16 07:50:05,750 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2786000.00 net=-1986000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:56]
2025-10-16 07:50:05,750 - app - INFO - Updated balance for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: -1986000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:70]
2025-10-16 07:50:05,763 - app - INFO - [alloc] profile=55e1b1b3-289a-4ede-aee1-098cb5a210a4 available_funds=-1986000.00 base_allocation=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:106]
2025-10-24 21:47:59,774 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2786000.00'), 'net_income': Decimal('-1986000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 21:47:59,774 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2786000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 21:47:59,774 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=0.00, net_change=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 21:47:59,775 - app - INFO - [alloc] No incremental change detected — skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-24 21:48:18,468 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2786000.00'), 'net_income': Decimal('-1986000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 21:48:18,468 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2786000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 21:48:18,469 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=0.00, net_change=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 21:48:18,469 - app - INFO - [alloc] No incremental change detected — skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-24 21:53:38,716 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-24 21:54:33,556 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-24 21:54:56,762 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2791000.00'), 'net_income': Decimal('-1991000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 21:54:56,762 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2791000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 21:54:56,762 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=5000.00, net_change=-5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 21:54:56,762 - app - INFO - [alloc] Starting balances - savings=0.00, deficit=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-24 21:54:56,762 - app - INFO - [alloc] Available funds from change: -5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:118]
2025-10-24 21:54:56,763 - app - INFO - [alloc] Negative net_change: -5000.00, shortage: 5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:182]
2025-10-24 21:54:56,787 - app - INFO - [alloc] Savings insufficient. Checking flexible goals to cover remaining 5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:217]
2025-10-24 21:54:56,788 - app - ERROR - Error recalculating allocations: MonthlyGoalAllocation.get_allocations_by_month() got an unexpected keyword argument 'user_id' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:589]
2025-10-24 21:54:56,790 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 228, in recalculate_allocations
    current_allocation = GoalAllocation.get_allocations_by_month(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: MonthlyGoalAllocation.get_allocations_by_month() got an unexpected keyword argument 'user_id'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:590]
2025-10-24 22:31:28,270 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2791000.00'), 'net_income': Decimal('-1991000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 22:31:28,270 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2791000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 22:31:28,271 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=5000.00, net_change=-5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 22:31:28,271 - app - INFO - [alloc] Starting balances - savings=0.00, deficit=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-24 22:31:28,271 - app - INFO - [alloc] Available funds from change: -5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:118]
2025-10-24 22:31:28,271 - app - INFO - [alloc] Negative net_change: -5000.00, shortage: 5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:182]
2025-10-24 22:31:28,293 - app - INFO - [alloc] Savings insufficient. Checking flexible goals to cover remaining 5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:217]
2025-10-24 22:31:28,299 - app - INFO - [alloc] Recording deficit: 5000.00, total_deficit=5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:322]
2025-10-24 22:34:05,791 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2796000.00'), 'net_income': Decimal('-1996000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 22:34:05,791 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2796000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 22:34:05,792 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=5000.00, net_change=-5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 22:34:05,792 - app - INFO - [alloc] Starting balances - savings=0.00, deficit=5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-24 22:34:05,792 - app - INFO - [alloc] Available funds from change: -5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:118]
2025-10-24 22:34:05,792 - app - INFO - [alloc] Negative net_change: -5000.00, shortage: 5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:182]
2025-10-24 22:34:05,797 - app - INFO - [alloc] Savings insufficient. Checking flexible goals to cover remaining 5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:217]
2025-10-24 22:34:05,800 - app - INFO - [alloc] Recording deficit: 5000.00, total_deficit=10000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:322]
2025-10-24 22:34:09,551 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2801000.00'), 'net_income': Decimal('-2001000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 22:34:09,551 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2801000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 22:34:09,552 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=5000.00, net_change=-5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 22:34:09,552 - app - INFO - [alloc] Starting balances - savings=0.00, deficit=10000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-24 22:34:09,552 - app - INFO - [alloc] Available funds from change: -5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:118]
2025-10-24 22:34:09,552 - app - INFO - [alloc] Negative net_change: -5000.00, shortage: 5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:182]
2025-10-24 22:34:09,556 - app - INFO - [alloc] Savings insufficient. Checking flexible goals to cover remaining 5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:217]
2025-10-24 22:34:09,559 - app - INFO - [alloc] Recording deficit: 5000.00, total_deficit=15000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:322]
2025-10-24 22:35:37,665 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 22:35:37,665 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 22:35:37,665 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=5000.00, net_change=-5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 22:35:37,666 - app - INFO - [alloc] Starting balances - savings=0.00, deficit=15000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-24 22:35:37,666 - app - INFO - [alloc] Available funds from change: -5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:118]
2025-10-24 22:35:37,666 - app - INFO - [alloc] Negative net_change: -5000.00, shortage: 5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:182]
2025-10-24 22:35:37,679 - app - INFO - [alloc] Savings insufficient. Checking flexible goals to cover remaining 5000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:217]
2025-10-24 22:35:37,684 - app - INFO - [alloc] Recording deficit: 5000.00, total_deficit=20000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:322]
2025-10-24 22:35:39,731 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 22:35:39,731 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 22:35:39,731 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=0.00, net_change=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 22:35:39,731 - app - INFO - [alloc] No incremental change detected — skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-24 22:35:43,121 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 22:35:43,121 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 22:35:43,121 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=0.00, net_change=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 22:35:43,121 - app - INFO - [alloc] No incremental change detected — skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-24 23:19:18,019 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 23:19:18,020 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 23:19:18,020 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=0.00, net_change=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 23:19:18,020 - app - INFO - [alloc] No incremental change detected — skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-24 23:24:21,172 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 23:24:21,173 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 23:24:21,173 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=0.00, net_change=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 23:24:21,173 - app - INFO - [alloc] No incremental change detected — skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-24 23:30:07,848 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 23:30:07,849 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 23:30:07,849 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=2806000.00, net_change=-2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 23:30:07,849 - app - INFO - [alloc] Starting balances - savings=0.00, deficit=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-24 23:30:07,849 - app - INFO - [alloc] Available funds from change: -2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:118]
2025-10-24 23:30:07,849 - app - INFO - [alloc] Negative net_change: -2806000.00, shortage: 2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:184]
2025-10-24 23:30:07,869 - app - INFO - [alloc] Savings insufficient. Checking flexible goals to cover remaining 2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:220]
2025-10-24 23:30:07,870 - app - ERROR - Error recalculating allocations: type object 'MonthlyGoalAllocation' has no attribute 'get_monthly_allocation_for_goal' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:596]
2025-10-24 23:30:07,877 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 231, in recalculate_allocations
    current_allocation = GoalAllocation.get_monthly_allocation_for_goal(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'MonthlyGoalAllocation' has no attribute 'get_monthly_allocation_for_goal'
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:597]
2025-10-24 23:32:43,855 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 23:32:43,855 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 23:32:43,856 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=2806000.00, net_change=-2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 23:32:43,856 - app - INFO - [alloc] Starting balances - savings=0.00, deficit=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-24 23:32:43,857 - app - INFO - [alloc] Available funds from change: -2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:118]
2025-10-24 23:32:43,857 - app - INFO - [alloc] Negative net_change: -2806000.00, shortage: 2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:184]
2025-10-24 23:32:43,871 - app - INFO - [alloc] Savings insufficient. Checking flexible goals to cover remaining 2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:220]
2025-10-24 23:32:43,872 - app - ERROR - Error recalculating allocations: type object 'MonthlyGoalAllocation' has no attribute 'get_monthly_allocation_for_goal' - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:595]
2025-10-24 23:32:43,879 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/client/goal_recalculation.py", line 231, in recalculate_allocations
    current_allocation = GoalAllocation.get_monthly_allocation_for_goal(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'MonthlyGoalAllocation' has no attribute 'get_monthly_allocation_for_goal'. Did you mean: 'get_total_allocated_for_goal'?
 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:596]
2025-10-24 23:34:01,092 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 23:34:01,092 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 23:34:01,092 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=2806000.00, net_change=-2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 23:34:01,093 - app - INFO - [alloc] Starting balances - savings=0.00, deficit=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-24 23:34:01,093 - app - INFO - [alloc] Available funds from change: -2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:118]
2025-10-24 23:34:01,093 - app - INFO - [alloc] Negative net_change: -2806000.00, shortage: 2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:184]
2025-10-24 23:34:01,110 - app - INFO - [alloc] Savings insufficient. Checking flexible goals to cover remaining 2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:220]
2025-10-24 23:34:01,114 - app - INFO - [alloc] Recording deficit: 2806000.00, total_deficit=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:324]
2025-10-24 23:34:24,336 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 23:34:24,336 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 23:34:24,336 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=0.00, net_change=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 23:34:24,336 - app - INFO - [alloc] No incremental change detected — skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-24 23:34:28,173 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-24 23:34:28,174 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-24 23:34:28,174 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=0.00, net_change=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-24 23:34:28,174 - app - INFO - [alloc] No incremental change detected — skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-25 12:27:30,419 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-25 12:27:30,420 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-25 12:27:30,420 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=0.00, net_change=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-25 12:27:30,420 - app - INFO - [alloc] No incremental change detected — skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-25 12:32:35,487 - app - INFO - Transportation Expense recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-25 12:37:23,012 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2821000.00'), 'net_income': Decimal('-2021000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-25 12:37:23,012 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2821000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-25 12:37:23,013 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=15000.00, net_change=-15000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-25 12:37:23,013 - app - INFO - [alloc] Starting balances - savings=0.00, deficit=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-25 12:37:23,013 - app - INFO - [alloc] Available funds from change: -15000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:118]
2025-10-25 12:37:23,013 - app - INFO - [alloc] Negative net_change: -15000.00, shortage: 15000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:184]
2025-10-25 12:37:23,036 - app - INFO - [alloc] Savings insufficient. Checking flexible goals to cover remaining 15000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:220]
2025-10-25 12:37:23,039 - app - INFO - [alloc] Recording deficit: 15000.00, total_deficit=2821000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:324]
2025-10-25 14:02:00,057 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-25 14:02:00,057 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-25 14:02:00,058 - app - INFO - [alloc] Incremental change - income_delta=800000.00, expense_delta=2806000.00, net_change=-2006000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-25 14:02:00,058 - app - INFO - [alloc] Starting balances - savings=0.00, deficit=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-25 14:02:00,058 - app - INFO - [alloc] Available funds from change: -2006000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:118]
2025-10-25 14:02:00,058 - app - INFO - [alloc] Negative net_change: -2006000.00, shortage: 2006000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:184]
2025-10-25 14:02:00,076 - app - INFO - [alloc] Savings insufficient. Checking flexible goals to cover remaining 2006000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:220]
2025-10-25 14:02:00,080 - app - INFO - [alloc] Recording deficit: 2006000.00, total_deficit=2006000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:324]
2025-10-25 14:02:43,874 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-25 14:02:43,874 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-25 14:02:43,874 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=0.00, net_change=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-25 14:02:43,874 - app - INFO - [alloc] No incremental change detected — skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-25 14:02:47,958 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-2006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-25 14:02:47,958 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-25 14:02:47,959 - app - INFO - [alloc] Incremental change - income_delta=0.00, expense_delta=0.00, net_change=0.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-25 14:02:47,959 - app - INFO - [alloc] No incremental change detected — skipping. - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:93]
2025-10-25 14:19:32,092 - app - ERROR - Error creating financial record: month must be in 1..12 - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:108]
2025-10-25 14:19:41,324 - app - ERROR - Error creating financial record: month must be in 1..12 - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:108]
2025-10-25 14:19:47,472 - app - ERROR - Error creating financial record: month must be in 1..12 - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:108]
2025-10-25 14:20:06,064 - app - INFO - Investment Income Income recorded successfully - [in /home/patrick/goalifai/app/api/v1/client/financial_records.py:95]
2025-10-25 14:20:39,342 - app - INFO - Monthly totals for user f280eb9e-063d-40ae-83f2-8c47aeb9ea3f: {'total_income': Decimal('1800000.00'), 'total_expense': Decimal('2806000.00'), 'net_income': Decimal('-1006000.00')} - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:61]
2025-10-25 14:20:39,342 - app - INFO - [alloc] user=f280eb9e-063d-40ae-83f2-8c47aeb9ea3f income=1800000.00 expense=2806000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:74]
2025-10-25 14:20:39,342 - app - INFO - [alloc] Incremental change - income_delta=1000000.00, expense_delta=0.00, net_change=1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:86]
2025-10-25 14:20:39,342 - app - INFO - [alloc] Starting balances - savings=0.00, deficit=2006000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:105]
2025-10-25 14:20:39,342 - app - INFO - [alloc] Available funds from change: 1000000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:118]
2025-10-25 14:20:39,343 - app - INFO - [alloc] Partial deficit repayment: 1000000.00, remaining=1006000.00 - [in /home/patrick/goalifai/app/api/v1/client/goal_recalculation.py:151]
