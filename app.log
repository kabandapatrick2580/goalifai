2025-02-24 15:53:19,857 - app - INFO - __init__.py - 32 - Flask app started
2025-02-24 15:53:19,911 - werkzeug - WARNING - _internal.py - 97 -  * Debugger is active!
2025-02-24 15:53:19,913 - werkzeug - INFO - _internal.py - 97 -  * Debugger PIN: 119-089-832
2025-02-24 15:53:28,798 - werkzeug - INFO - _internal.py - 97 - 127.0.0.1 - - [24/Feb/2025 15:53:28] "[33mPOST /api/v1/users%0A HTTP/1.1[0m" 404 -
2025-02-24 15:54:51,792 - werkzeug - INFO - _internal.py - 97 -  * Detected change in '/home/patrick/goalifai/app/api/v1/users.py', reloading
2025-02-24 15:54:52,310 - app - INFO - __init__.py - 32 - Flask app started
2025-02-24 15:54:52,344 - werkzeug - WARNING - _internal.py - 97 -  * Debugger is active!
2025-02-24 15:54:52,346 - werkzeug - INFO - _internal.py - 97 -  * Debugger PIN: 119-089-832
2025-02-24 15:55:02,544 - werkzeug - INFO - _internal.py - 97 - 127.0.0.1 - - [24/Feb/2025 15:55:02] "[33mPOST /api/v1/users%0A HTTP/1.1[0m" 404 -
2025-02-24 15:56:24,294 - werkzeug - INFO - _internal.py - 97 -  * Detected change in '/home/patrick/goalifai/run.py', reloading
2025-02-24 15:56:24,895 - app - INFO - __init__.py - 32 - Flask app started
2025-02-24 15:56:24,930 - werkzeug - WARNING - _internal.py - 97 -  * Debugger is active!
2025-02-24 15:56:24,932 - werkzeug - INFO - _internal.py - 97 -  * Debugger PIN: 119-089-832
2025-02-24 15:57:08,335 - werkzeug - INFO - _internal.py - 97 -  * Detected change in '/home/patrick/goalifai/app/__init__.py', reloading
2025-02-24 15:57:08,825 - app - INFO - __init__.py - 29 - Flask app started
2025-02-24 15:57:08,862 - werkzeug - WARNING - _internal.py - 97 -  * Debugger is active!
2025-02-24 15:57:08,864 - werkzeug - INFO - _internal.py - 97 -  * Debugger PIN: 119-089-832
2025-02-24 16:19:58,264 - werkzeug - INFO - _internal.py - 97 -  * Detected change in '/home/patrick/goalifai/app/__init__.py', reloading
2025-02-24 16:19:58,829 - app - INFO - __init__.py - 29 - Flask app started
2025-02-24 16:19:58,877 - werkzeug - WARNING - _internal.py - 97 -  * Debugger is active!
2025-02-24 16:19:58,880 - werkzeug - INFO - _internal.py - 97 -  * Debugger PIN: 119-089-832
2025-02-24 18:39:40,850 - app - INFO - __init__.py - 29 - Flask app started
2025-02-24 18:39:40,927 - werkzeug - INFO - _internal.py - 97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.232.13:5000
2025-02-24 18:39:40,927 - werkzeug - INFO - _internal.py - 97 - [33mPress CTRL+C to quit[0m
2025-02-24 18:39:40,928 - werkzeug - INFO - _internal.py - 97 -  * Restarting with stat
2025-02-24 18:39:41,611 - app - INFO - __init__.py - 29 - Flask app started
2025-02-24 18:39:41,668 - werkzeug - WARNING - _internal.py - 97 -  * Debugger is active!
2025-02-24 18:39:41,683 - werkzeug - INFO - _internal.py - 97 -  * Debugger PIN: 464-131-258
2025-02-24 18:41:03,905 - werkzeug - INFO - _internal.py - 97 - 127.0.0.1 - - [24/Feb/2025 18:41:03] "[33mPOST /api/v1/users/ HTTP/1.1[0m" 404 -
2025-02-24 18:42:12,484 - werkzeug - INFO - _internal.py - 97 -  * Detected change in '/home/patrick/goalifai/app/__init__.py', reloading
2025-02-24 18:42:12,785 - werkzeug - INFO - _internal.py - 97 -  * Restarting with stat
2025-02-24 18:45:12,563 - app - ERROR - An error occurred: Class 'sqlalchemy.engine.base.Transaction' is not mapped - [in /home/patrick/goalifai/app/api/v1/users.py:46]
2025-02-24 18:48:36,325 - app - ERROR - An error occurred: Class 'sqlalchemy.engine.base.Transaction' is not mapped - [in /home/patrick/goalifai/app/api/v1/users.py:46]
2025-02-24 18:53:42,363 - app - ERROR - An error occurred: name 'datetime' is not defined - [in /home/patrick/goalifai/app/api/v1/users.py:59]
2025-02-24 18:54:39,516 - app - ERROR - An error occurred: Class 'sqlalchemy.engine.base.Transaction' is not mapped - [in /home/patrick/goalifai/app/api/v1/users.py:60]
2025-02-24 19:05:29,217 - app - ERROR - An error occurred: Class 'sqlalchemy.engine.base.Transaction' is not mapped - [in /home/patrick/goalifai/app/api/v1/users.py:60]
2025-02-24 19:48:26,253 - app - ERROR - An error occurred: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Class 'sqlalchemy.engine.base.Transaction' is not mapped - [in /home/patrick/goalifai/app/api/v1/users.py:60]
2025-02-24 19:57:06,740 - app - ERROR - An error occurred: Class 'sqlalchemy.engine.base.Transaction' is not mapped - [in /home/patrick/goalifai/app/api/v1/users.py:61]
2025-02-24 19:57:06,758 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/users.py", line 26, in create_user
    existing_user = User.get_user_by_email(data['email'])
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 86, in get_user_by_email
    return User.query.filter_by(email=email).first()
           ^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/flask_sqlalchemy/model.py", line 22, in __get__
    return cls.query_class(
           ^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 275, in __init__
    self._set_entities(entities)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    coercions.expect(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1257, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4213, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4254, in _do_configure_registries
    mapper._post_configure_properties()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1656, in do_init
    self._setup_entity()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1880, in _setup_entity
    entity = class_mapper(resolved_argument, configure=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/base.py", line 565, in class_mapper
    raise exc.UnmappedClassError(class_)
sqlalchemy.orm.exc.UnmappedClassError: Class 'sqlalchemy.engine.base.Transaction' is not mapped
 - [in /home/patrick/goalifai/app/api/v1/users.py:62]
2025-02-24 20:04:15,111 - app - ERROR - Error creating user:(builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO users (user_id, email, password, first_name, last_name, education_level, date_of_birth, country_of_residence, currency, estimated_monthly_income, estimated_monthly_expenses, savings, created_at, updated_at) VALUES (%(user_id)s::UUID, %(email)s, %(password)s, %(first_name)s, %(last_name)s, %(education_level)s, %(date_of_birth)s, %(country_of_residence)s, %(currency)s, %(estimated_monthly_income)s, %(estimated_monthly_expenses)s, %(savings)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'password': '$2b$12$xam7j0rsD8fcb5pg/KJ5CORHem7aGRJnCq10WU./X8DOhB4A6uNkK', 'first_name': 'John', 'last_name': 'Doe', 'education_level': 'Bachelor',  ... (33 characters truncated) ... ate_of_birth': '1990-05-15', 'email': 'testuser@example.com', 'currency': 'USD', 'estimated_monthly_income': None, 'estimated_monthly_expenses': None}]] - [in /home/patrick/goalifai/app/models/central.py:112]
2025-02-24 20:04:15,133 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 32, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'timezone'. Did you mean: 'astimezone'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/models/central.py", line 108, in create_user
    db.session.commit()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1818, in _execute_context
    self._handle_dbapi_exception(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 32, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
sqlalchemy.exc.StatementError: (builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO users (user_id, email, password, first_name, last_name, education_level, date_of_birth, country_of_residence, currency, estimated_monthly_income, estimated_monthly_expenses, savings, created_at, updated_at) VALUES (%(user_id)s::UUID, %(email)s, %(password)s, %(first_name)s, %(last_name)s, %(education_level)s, %(date_of_birth)s, %(country_of_residence)s, %(currency)s, %(estimated_monthly_income)s, %(estimated_monthly_expenses)s, %(savings)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'password': '$2b$12$xam7j0rsD8fcb5pg/KJ5CORHem7aGRJnCq10WU./X8DOhB4A6uNkK', 'first_name': 'John', 'last_name': 'Doe', 'education_level': 'Bachelor',  ... (33 characters truncated) ... ate_of_birth': '1990-05-15', 'email': 'testuser@example.com', 'currency': 'USD', 'estimated_monthly_income': None, 'estimated_monthly_expenses': None}]]
 - [in /home/patrick/goalifai/app/models/central.py:113]
2025-02-24 20:04:15,133 - app - ERROR - An error occurred: 'NoneType' object has no attribute 'email' - [in /home/patrick/goalifai/app/api/v1/users.py:61]
2025-02-24 20:04:15,134 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/users.py", line 44, in create_user
    current_app.logger.info(f"User {user.email} created successfully")
                                    ^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'email'
 - [in /home/patrick/goalifai/app/api/v1/users.py:62]
2025-02-24 20:12:03,664 - app - ERROR - Error creating user:(builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO users (user_id, email, password, first_name, last_name, education_level, date_of_birth, country_of_residence, currency, estimated_monthly_income, estimated_monthly_expenses, savings, created_at, updated_at) VALUES (%(user_id)s::UUID, %(email)s, %(password)s, %(first_name)s, %(last_name)s, %(education_level)s, %(date_of_birth)s, %(country_of_residence)s, %(currency)s, %(estimated_monthly_income)s, %(estimated_monthly_expenses)s, %(savings)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'last_name': 'Doe', 'password': '$2b$12$506.8L90MCxQ24/6ehAvQOiMrx2QdpSyW0hhSmJx/9HFb0sWZ.axC', 'education_level': 'Bachelor', 'currency': 'USD', 'em ... (33 characters truncated) ... untry_of_residence': 'USA', 'date_of_birth': '1990-05-15', 'first_name': 'John', 'estimated_monthly_expenses': None, 'estimated_monthly_income': None}]] - [in /home/patrick/goalifai/app/models/central.py:112]
2025-02-24 20:12:03,674 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 32, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'timezone'. Did you mean: 'astimezone'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/models/central.py", line 108, in create_user
    db.session.commit()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1818, in _execute_context
    self._handle_dbapi_exception(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 32, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
sqlalchemy.exc.StatementError: (builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO users (user_id, email, password, first_name, last_name, education_level, date_of_birth, country_of_residence, currency, estimated_monthly_income, estimated_monthly_expenses, savings, created_at, updated_at) VALUES (%(user_id)s::UUID, %(email)s, %(password)s, %(first_name)s, %(last_name)s, %(education_level)s, %(date_of_birth)s, %(country_of_residence)s, %(currency)s, %(estimated_monthly_income)s, %(estimated_monthly_expenses)s, %(savings)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'last_name': 'Doe', 'password': '$2b$12$506.8L90MCxQ24/6ehAvQOiMrx2QdpSyW0hhSmJx/9HFb0sWZ.axC', 'education_level': 'Bachelor', 'currency': 'USD', 'em ... (33 characters truncated) ... untry_of_residence': 'USA', 'date_of_birth': '1990-05-15', 'first_name': 'John', 'estimated_monthly_expenses': None, 'estimated_monthly_income': None}]]
 - [in /home/patrick/goalifai/app/models/central.py:113]
2025-02-24 20:12:03,674 - app - INFO - User testuser@example.com created successfully - [in /home/patrick/goalifai/app/api/v1/users.py:44]
2025-02-24 20:12:03,674 - app - ERROR - An error occurred: 'NoneType' object has no attribute 'user_id' - [in /home/patrick/goalifai/app/api/v1/users.py:61]
2025-02-24 20:12:03,675 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/users.py", line 48, in create_user
    "user_id": str(user.user_id),
                   ^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'user_id'
 - [in /home/patrick/goalifai/app/api/v1/users.py:62]
2025-02-24 20:24:37,435 - app - ERROR - Error creating user:(builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO users (user_id, email, password, first_name, last_name, education_level, date_of_birth, country_of_residence, currency, estimated_monthly_income, estimated_monthly_expenses, savings, created_at, updated_at) VALUES (%(user_id)s::UUID, %(email)s, %(password)s, %(first_name)s, %(last_name)s, %(education_level)s, %(date_of_birth)s, %(country_of_residence)s, %(currency)s, %(estimated_monthly_income)s, %(estimated_monthly_expenses)s, %(savings)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'date_of_birth': '1990-05-15', 'currency': 'USD', 'first_name': 'John', 'education_level': 'Bachelor', 'country_of_residence': 'USA', 'email': 'testu ... (33 characters truncated) ... b$12$W9Ij2OSKxK3YryobShivWeAwZPCWEapr//hz/EBwmD.Pe99rgFH/a', 'last_name': 'Doe', 'estimated_monthly_income': None, 'estimated_monthly_expenses': None}]] - [in /home/patrick/goalifai/app/models/central.py:112]
2025-02-24 20:24:37,447 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 32, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'timezone'. Did you mean: 'astimezone'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/models/central.py", line 108, in create_user
    db.session.commit()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1818, in _execute_context
    self._handle_dbapi_exception(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 32, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
sqlalchemy.exc.StatementError: (builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO users (user_id, email, password, first_name, last_name, education_level, date_of_birth, country_of_residence, currency, estimated_monthly_income, estimated_monthly_expenses, savings, created_at, updated_at) VALUES (%(user_id)s::UUID, %(email)s, %(password)s, %(first_name)s, %(last_name)s, %(education_level)s, %(date_of_birth)s, %(country_of_residence)s, %(currency)s, %(estimated_monthly_income)s, %(estimated_monthly_expenses)s, %(savings)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'date_of_birth': '1990-05-15', 'currency': 'USD', 'first_name': 'John', 'education_level': 'Bachelor', 'country_of_residence': 'USA', 'email': 'testu ... (33 characters truncated) ... b$12$W9Ij2OSKxK3YryobShivWeAwZPCWEapr//hz/EBwmD.Pe99rgFH/a', 'last_name': 'Doe', 'estimated_monthly_income': None, 'estimated_monthly_expenses': None}]]
 - [in /home/patrick/goalifai/app/models/central.py:113]
2025-02-24 20:24:37,448 - app - INFO - User testuser@example.com created successfully - [in /home/patrick/goalifai/app/api/v1/users.py:44]
2025-02-24 20:24:37,448 - app - ERROR - An error occurred: 'NoneType' object has no attribute 'user_id' - [in /home/patrick/goalifai/app/api/v1/users.py:61]
2025-02-24 20:24:37,449 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/users.py", line 48, in create_user
    "user_id": str(user.user_id),
                   ^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'user_id'
 - [in /home/patrick/goalifai/app/api/v1/users.py:62]
2025-02-24 20:25:13,751 - app - ERROR - Error creating user:(builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO users (user_id, email, password, first_name, last_name, education_level, date_of_birth, country_of_residence, currency, estimated_monthly_income, estimated_monthly_expenses, savings, created_at, updated_at) VALUES (%(user_id)s::UUID, %(email)s, %(password)s, %(first_name)s, %(last_name)s, %(education_level)s, %(date_of_birth)s, %(country_of_residence)s, %(currency)s, %(estimated_monthly_income)s, %(estimated_monthly_expenses)s, %(savings)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'email': 'testuser@example.com', 'country_of_residence': 'USA', 'last_name': 'Doe', 'education_level': 'Bachelor', 'currency': 'USD', 'first_name': ' ... (33 characters truncated) ... mV0qLZ3KM80O.J6OP7/m2LN1vEOQFAVkg6th0y8ZePFRwMi', 'date_of_birth': '1990-05-15', 'estimated_monthly_income': None, 'estimated_monthly_expenses': None}]] - [in /home/patrick/goalifai/app/models/central.py:112]
2025-02-24 20:25:13,761 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 32, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'timezone'. Did you mean: 'astimezone'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/models/central.py", line 108, in create_user
    db.session.commit()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1818, in _execute_context
    self._handle_dbapi_exception(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 32, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
sqlalchemy.exc.StatementError: (builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO users (user_id, email, password, first_name, last_name, education_level, date_of_birth, country_of_residence, currency, estimated_monthly_income, estimated_monthly_expenses, savings, created_at, updated_at) VALUES (%(user_id)s::UUID, %(email)s, %(password)s, %(first_name)s, %(last_name)s, %(education_level)s, %(date_of_birth)s, %(country_of_residence)s, %(currency)s, %(estimated_monthly_income)s, %(estimated_monthly_expenses)s, %(savings)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'email': 'testuser@example.com', 'country_of_residence': 'USA', 'last_name': 'Doe', 'education_level': 'Bachelor', 'currency': 'USD', 'first_name': ' ... (33 characters truncated) ... mV0qLZ3KM80O.J6OP7/m2LN1vEOQFAVkg6th0y8ZePFRwMi', 'date_of_birth': '1990-05-15', 'estimated_monthly_income': None, 'estimated_monthly_expenses': None}]]
 - [in /home/patrick/goalifai/app/models/central.py:113]
2025-02-24 20:25:13,762 - app - INFO - User testuser@example.com created successfully - [in /home/patrick/goalifai/app/api/v1/users.py:38]
2025-02-24 20:25:13,762 - app - ERROR - An error occurred: 'NoneType' object has no attribute 'user_id' - [in /home/patrick/goalifai/app/api/v1/users.py:55]
2025-02-24 20:25:13,764 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/users.py", line 42, in create_user
    "user_id": user.user_id,
               ^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'user_id'
 - [in /home/patrick/goalifai/app/api/v1/users.py:56]
2025-02-24 20:27:06,820 - app - ERROR - Error creating user:(builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO users (user_id, email, password, first_name, last_name, education_level, date_of_birth, country_of_residence, currency, estimated_monthly_income, estimated_monthly_expenses, savings, created_at, updated_at) VALUES (%(user_id)s::UUID, %(email)s, %(password)s, %(first_name)s, %(last_name)s, %(education_level)s, %(date_of_birth)s, %(country_of_residence)s, %(currency)s, %(estimated_monthly_income)s, %(estimated_monthly_expenses)s, %(savings)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'country_of_residence': 'USA', 'email': 'testuser@example.com', 'date_of_birth': '1990-05-15', 'password': '$2b$12$2dA3c5F22mXGeEdwQpSRbeeUO/PCfJq8MD ... (33 characters truncated) ... ': 'John', 'education_level': 'Bachelor', 'currency': 'USD', 'last_name': 'Doe', 'estimated_monthly_income': None, 'estimated_monthly_expenses': None}]] - [in /home/patrick/goalifai/app/models/central.py:112]
2025-02-24 20:27:06,834 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 32, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'timezone'. Did you mean: 'astimezone'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/models/central.py", line 108, in create_user
    db.session.commit()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1818, in _execute_context
    self._handle_dbapi_exception(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 32, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
sqlalchemy.exc.StatementError: (builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO users (user_id, email, password, first_name, last_name, education_level, date_of_birth, country_of_residence, currency, estimated_monthly_income, estimated_monthly_expenses, savings, created_at, updated_at) VALUES (%(user_id)s::UUID, %(email)s, %(password)s, %(first_name)s, %(last_name)s, %(education_level)s, %(date_of_birth)s, %(country_of_residence)s, %(currency)s, %(estimated_monthly_income)s, %(estimated_monthly_expenses)s, %(savings)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'country_of_residence': 'USA', 'email': 'testuser@example.com', 'date_of_birth': '1990-05-15', 'password': '$2b$12$2dA3c5F22mXGeEdwQpSRbeeUO/PCfJq8MD ... (33 characters truncated) ... ': 'John', 'education_level': 'Bachelor', 'currency': 'USD', 'last_name': 'Doe', 'estimated_monthly_income': None, 'estimated_monthly_expenses': None}]]
 - [in /home/patrick/goalifai/app/models/central.py:113]
2025-02-24 20:27:06,835 - app - ERROR - An error occurred while creating the user - [in /home/patrick/goalifai/app/api/v1/users.py:37]
2025-02-24 20:33:20,729 - app - INFO - User testuser@example.com created successfully - [in /home/patrick/goalifai/app/api/v1/users.py:41]
2025-03-18 18:36:23,107 - app - INFO - User with email testuser@example.com already exists - [in /home/patrick/goalifai/app/api/v1/users.py:22]
2025-03-18 18:39:26,565 - app - ERROR - An error occurred: type object 'User' has no attribute 'get_all_users' - [in /home/patrick/goalifai/app/api/v1/users.py:88]
2025-03-18 18:39:26,572 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/users.py", line 66, in users_list
    users = User.get_all_users()
            ^^^^^^^^^^^^^^^^^^
AttributeError: type object 'User' has no attribute 'get_all_users'
 - [in /home/patrick/goalifai/app/api/v1/users.py:89]
2025-03-18 22:41:04,995 - app - INFO - User testuser@example.com created successfully - [in /home/patrick/goalifai/app/api/v1/users.py:41]
2025-03-18 22:58:48,789 - app - ERROR - An error occurred: type object 'Goal' has no attribute 'create_goal' - [in /home/patrick/goalifai/app/api/v1/goals.py:36]
2025-03-18 22:58:48,792 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/goals.py", line 26, in create_goal
    goal = Goal.create_goal(
           ^^^^^^^^^^^^^^^^
AttributeError: type object 'Goal' has no attribute 'create_goal'. Did you mean: 'created_at'?
 - [in /home/patrick/goalifai/app/api/v1/goals.py:37]
2025-03-18 22:59:17,487 - app - ERROR - Error creating goal:(builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO goals (goal_id, user_id, title, description, target_amount, current_amount, due_date, created_at, updated_at) VALUES (%(goal_id)s::UUID, %(user_id)s::UUID, %(title)s, %(description)s, %(target_amount)s, %(current_amount)s, %(due_date)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'user_id': '4f010d70-0c4e-4c75-972c-e9575db16625', 'target_amount': 50000, 'due_date': datetime.datetime(2026, 1, 12, 0, 0), 'title': 'Buying a House', 'description': None}]] - [in /home/patrick/goalifai/app/models/central.py:181]
2025-03-18 22:59:17,502 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 130, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'timezone'. Did you mean: 'astimezone'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/models/central.py", line 177, in create_goal
    db.session.commit()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1818, in _execute_context
    self._handle_dbapi_exception(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 130, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.timezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^
sqlalchemy.exc.StatementError: (builtins.AttributeError) type object 'datetime.datetime' has no attribute 'timezone'
[SQL: INSERT INTO goals (goal_id, user_id, title, description, target_amount, current_amount, due_date, created_at, updated_at) VALUES (%(goal_id)s::UUID, %(user_id)s::UUID, %(title)s, %(description)s, %(target_amount)s, %(current_amount)s, %(due_date)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'user_id': '4f010d70-0c4e-4c75-972c-e9575db16625', 'target_amount': 50000, 'due_date': datetime.datetime(2026, 1, 12, 0, 0), 'title': 'Buying a House', 'description': None}]]
 - [in /home/patrick/goalifai/app/models/central.py:182]
2025-03-18 22:59:17,502 - app - ERROR - An error occurred while creating the goal - [in /home/patrick/goalifai/app/api/v1/goals.py:33]
2025-03-18 23:05:57,415 - app - ERROR - Error creating goal:(builtins.AttributeError) 'method_descriptor' object has no attribute 'utc'
[SQL: INSERT INTO goals (goal_id, user_id, title, description, target_amount, current_amount, due_date, created_at, updated_at) VALUES (%(goal_id)s::UUID, %(user_id)s::UUID, %(title)s, %(description)s, %(target_amount)s, %(current_amount)s, %(due_date)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'target_amount': 50000, 'due_date': datetime.datetime(2026, 1, 12, 0, 0), 'title': 'Buying a House', 'user_id': '4f010d70-0c4e-4c75-972c-e9575db16625', 'description': None}]] - [in /home/patrick/goalifai/app/models/central.py:181]
2025-03-18 23:05:57,421 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 130, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.astimezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'method_descriptor' object has no attribute 'utc'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/models/central.py", line 177, in create_goal
    db.session.commit()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1818, in _execute_context
    self._handle_dbapi_exception(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 130, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.astimezone.utc))
                                                                     ^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.StatementError: (builtins.AttributeError) 'method_descriptor' object has no attribute 'utc'
[SQL: INSERT INTO goals (goal_id, user_id, title, description, target_amount, current_amount, due_date, created_at, updated_at) VALUES (%(goal_id)s::UUID, %(user_id)s::UUID, %(title)s, %(description)s, %(target_amount)s, %(current_amount)s, %(due_date)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'target_amount': 50000, 'due_date': datetime.datetime(2026, 1, 12, 0, 0), 'title': 'Buying a House', 'user_id': '4f010d70-0c4e-4c75-972c-e9575db16625', 'description': None}]]
 - [in /home/patrick/goalifai/app/models/central.py:182]
2025-03-18 23:05:57,421 - app - ERROR - An error occurred while creating the goal - [in /home/patrick/goalifai/app/api/v1/goals.py:33]
2025-03-18 23:06:26,546 - app - ERROR - Error creating goal:(builtins.TypeError) tzinfo argument must be None or of a tzinfo subclass, not type 'method_descriptor'
[SQL: INSERT INTO goals (goal_id, user_id, title, description, target_amount, current_amount, due_date, created_at, updated_at) VALUES (%(goal_id)s::UUID, %(user_id)s::UUID, %(title)s, %(description)s, %(target_amount)s, %(current_amount)s, %(due_date)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'user_id': '4f010d70-0c4e-4c75-972c-e9575db16625', 'title': 'Buying a House', 'target_amount': 50000, 'due_date': datetime.datetime(2026, 1, 12, 0, 0), 'description': None}]] - [in /home/patrick/goalifai/app/models/central.py:181]
2025-03-18 23:06:26,552 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 130, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.astimezone))
                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: tzinfo argument must be None or of a tzinfo subclass, not type 'method_descriptor'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/models/central.py", line 177, in create_goal
    db.session.commit()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1818, in _execute_context
    self._handle_dbapi_exception(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 130, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.astimezone))
                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.StatementError: (builtins.TypeError) tzinfo argument must be None or of a tzinfo subclass, not type 'method_descriptor'
[SQL: INSERT INTO goals (goal_id, user_id, title, description, target_amount, current_amount, due_date, created_at, updated_at) VALUES (%(goal_id)s::UUID, %(user_id)s::UUID, %(title)s, %(description)s, %(target_amount)s, %(current_amount)s, %(due_date)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'user_id': '4f010d70-0c4e-4c75-972c-e9575db16625', 'title': 'Buying a House', 'target_amount': 50000, 'due_date': datetime.datetime(2026, 1, 12, 0, 0), 'description': None}]]
 - [in /home/patrick/goalifai/app/models/central.py:182]
2025-03-18 23:06:26,553 - app - ERROR - An error occurred while creating the goal - [in /home/patrick/goalifai/app/api/v1/goals.py:33]
2025-03-18 23:07:14,810 - app - ERROR - Error creating goal:(builtins.TypeError) tzinfo argument must be None or of a tzinfo subclass, not type 'builtin_function_or_method'
[SQL: INSERT INTO goals (goal_id, user_id, title, description, target_amount, current_amount, due_date, created_at, updated_at) VALUES (%(goal_id)s::UUID, %(user_id)s::UUID, %(title)s, %(description)s, %(target_amount)s, %(current_amount)s, %(due_date)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'user_id': '4f010d70-0c4e-4c75-972c-e9575db16625', 'due_date': datetime.datetime(2026, 1, 12, 0, 0), 'title': 'Buying a House', 'target_amount': 50000, 'description': None}]] - [in /home/patrick/goalifai/app/models/central.py:181]
2025-03-18 23:07:14,818 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 130, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.now))
                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: tzinfo argument must be None or of a tzinfo subclass, not type 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/patrick/goalifai/app/models/central.py", line 177, in create_goal
    db.session.commit()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1818, in _execute_context
    self._handle_dbapi_exception(
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1422, in _init_compiled
    self._process_execute_defaults()
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 2358, in _process_execute_defaults
    param[param_key] = arg(self)
                       ^^^^^^^^^
  File "/home/patrick/goalifai/local-engine/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 3622, in <lambda>
    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore
                                          ^^^^
  File "/home/patrick/goalifai/app/models/central.py", line 130, in <lambda>
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(datetime.now))
                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.StatementError: (builtins.TypeError) tzinfo argument must be None or of a tzinfo subclass, not type 'builtin_function_or_method'
[SQL: INSERT INTO goals (goal_id, user_id, title, description, target_amount, current_amount, due_date, created_at, updated_at) VALUES (%(goal_id)s::UUID, %(user_id)s::UUID, %(title)s, %(description)s, %(target_amount)s, %(current_amount)s, %(due_date)s, %(created_at)s, %(updated_at)s)]
[parameters: [{'user_id': '4f010d70-0c4e-4c75-972c-e9575db16625', 'due_date': datetime.datetime(2026, 1, 12, 0, 0), 'title': 'Buying a House', 'target_amount': 50000, 'description': None}]]
 - [in /home/patrick/goalifai/app/models/central.py:182]
2025-03-18 23:07:14,818 - app - ERROR - An error occurred while creating the goal - [in /home/patrick/goalifai/app/api/v1/goals.py:33]
2025-03-18 23:14:51,054 - app - ERROR - An error occurred: type object 'Goal' has no attribute 'get_all_goals' - [in /home/patrick/goalifai/app/api/v1/goals.py:63]
2025-03-18 23:14:51,056 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/goals.py", line 49, in list_all_goals
    goals = Goal.get_all_goals()
            ^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Goal' has no attribute 'get_all_goals'. Did you mean: 'list_all_goals'?
 - [in /home/patrick/goalifai/app/api/v1/goals.py:64]
2025-03-19 18:02:26,690 - app - INFO - Goal Buying a plot created successfully - [in /home/patrick/goalifai/app/api/v1/goals.py:41]
2025-03-19 19:35:19,185 - app - ERROR - An error occurred: Goal.to_dict() missing 1 required positional argument: 'self' - [in /home/patrick/goalifai/app/api/v1/goals.py:55]
2025-03-19 19:35:19,186 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/goals.py", line 49, in list_all_goals
    goals = Goal.to_dict()
            ^^^^^^^^^^^^^^
TypeError: Goal.to_dict() missing 1 required positional argument: 'self'
 - [in /home/patrick/goalifai/app/api/v1/goals.py:56]
2025-03-19 19:49:02,130 - app - ERROR - An error occurred: type object 'Goal' has no attribute 'get_all_goals' - [in /home/patrick/goalifai/app/api/v1/goals.py:52]
2025-03-19 19:49:02,134 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/goals.py", line 49, in list_all_goals
    goals = Goal.get_all_goals()
            ^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Goal' has no attribute 'get_all_goals'. Did you mean: 'list_all_goals'?
 - [in /home/patrick/goalifai/app/api/v1/goals.py:53]
2025-03-19 19:49:12,513 - app - ERROR - An error occurred: 'dict' object has no attribute 'serialize' - [in /home/patrick/goalifai/app/api/v1/goals.py:52]
2025-03-19 19:49:12,516 - app - ERROR - Traceback (most recent call last):
  File "/home/patrick/goalifai/app/api/v1/goals.py", line 50, in list_all_goals
    return jsonify({"goals": [goal.serialize() for goal in goals]}), 200
                              ^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'serialize'
 - [in /home/patrick/goalifai/app/api/v1/goals.py:53]
